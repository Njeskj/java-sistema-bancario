<VirtualHost *:80>
    DocumentRoot "Z:/laragon/www/java/frontend-web"
    ServerName java.local
    ServerAlias *.java.local
    
    <Directory "Z:/laragon/www/java/frontend-web">
        AllowOverride All
        Require all granted
        Options Indexes FollowSymLinks
        DirectoryIndex index.html
        
        # Rewrite para SPA (React Router)
        RewriteEngine On
        RewriteBase /
        RewriteRule ^index\.html$ - [L]
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule . /index.html [L]
    </Directory>
    
    # Proxy para o backend Spring Boot
    ProxyPreserveHost On
    ProxyPass /api http://localhost:8080/api
    ProxyPassReverse /api http://localhost:8080/api
    
    ErrorLog "Z:/laragon/etc/apache2/logs/java-error.log"
    CustomLog "Z:/laragon/etc/apache2/logs/java-access.log" combined
</VirtualHost>
